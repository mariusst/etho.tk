function get_elements(e){e=e.split(" ");for(var t=[],n=0;n<e.length;n++){var r=document.getElementById(e[n]);r&&t.push(r)}return t}function render_content(e){var t=document.createElement("div");t.className="turn";for(var n=0;n<e.length;n++){var r=e[n];templates[r.id]||(templates[r.id]=Mold.bake(r.innerHTML)),Mold.castAppend(t,templates[r.id])}return t}function setup_links(e){for(var t=0;t<e.length;t++){var n=e[t];n.href?n.className="external":n.href="#",n.rel&&(n.onclick=function(){this.parentNode.replaceChild(this.firstChild,this);var e=render_content(get_elements(this.rel));return setup_links(e.getElementsByTagName("a")),e.style.opacity=0,transcript.appendChild(e),smoothScrollTo(transcript.lastChild),emile(e,"Opacity: 1;",{duration:1e3}),!1})}}function clear_links(){for(var e=transcript.getElementsByTagName("a"),t=0;t<e.length;){var n=e[t];n.rel?n.parentNode.replaceChild(n.firstChild,n):t++}}function clear_text(){transcript.innerHTML=""}function currentYPosition(){return window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function elementYPosition(e){for(var t=e.offsetTop;e.offsetParent&&e.offsetParent!=document.body;)e=e.offsetParent,t+=node.offsetTop;return t}function smoothScrollTo(e){var t=currentYPosition(),n=elementYPosition(e),r=Math.abs(t-n);if(100>r)return void scrollTo(0,n);var o=Math.round(r/100);o>20&&(o=20);var a=Math.round(r/25),i=n>t?t+a:t-a,l=0;if(n>t)for(var s=t;n>s;s+=a)setTimeout("window.scrollTo(0, "+i+")",l*o),i+=a,i>n&&(i=n),l++;else for(var s=t;s>n;s-=a)setTimeout("window.scrollTo(0, "+i+")",l*o),i-=a,n>i&&(i=n),l++}var transcript=null,templates={};window.onload=function(){transcript=document.getElementById("transcript"),transcript.appendChild(render_content(get_elements("start")));var e=transcript.getElementsByTagName("a");setup_links(e)},function(e,t){function n(e,t,n){return(e+(t-e)*n).toFixed(3)}function r(e,t,n){return e.substr(t,n||1)}function o(e,t,n){for(var o,a,i,l=2,s=[],c=[];o=3,a=arguments[l-1],l--;)if("r"==r(a,0))for(a=a.match(/\d+/g);o--;)s.push(~~a[o]);else for(4==a.length&&(a="#"+r(a,1)+r(a,1)+r(a,2)+r(a,2)+r(a,3)+r(a,3));o--;)s.push(parseInt(r(a,1+2*o,2),16));for(;o--;)i=~~(s[o+3]+(s[o]-s[o+3])*n),c.push(0>i?0:i>255?255:i);return"rgb("+c.join(",")+")"}function a(e){var t=parseFloat(e),r=e.replace(/^[\-\d\.]+/,"");return isNaN(t)?{v:r,f:o,u:""}:{v:t,f:n,u:r}}function i(e){var t,n,r={},o=s.length;for(l.innerHTML='<div style="'+e+'"></div>',t=l.childNodes[0].style;o--;)(n=t[s[o]])&&(r[s[o]]=a(n));return r}var l=document.createElement("div"),s="backgroundColor borderBottomColor borderBottomWidth borderLeftColor borderLeftWidth borderRightColor borderRightWidth borderSpacing borderTopColor borderTopWidth bottom color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");t[e]=function(e,t,n,r){e="string"==typeof e?document.getElementById(e):e,n=n||{};var o,l,s=i(t),c=e.currentStyle?e.currentStyle:getComputedStyle(e,null),u={},d=+new Date,f=n.duration||200,h=d+f,p=n.easing||function(e){return-Math.cos(e*Math.PI)/2+.5};for(o in s)u[o]=a(c[o]);l=setInterval(function(){var t=+new Date,a=t>h?1:(t-d)/f;for(o in s)e.style[o]=s[o].f(u[o].v,s[o].v,p(a))+s[o].u;t>h&&(clearInterval(l),n.after&&n.after(),r&&setTimeout(r,1))},10)}}("emile",this);var Mold={};Mold.cleanEval=function(e){return window.eval(e)},function(){function e(e){function t(e){e.length&&n.push(e)}for(var n=[];;){var r=e.search(/[\[<]\?/);if(-1==r){t(e);break}t(e.slice(0,r));var o=e.indexOf("?"+("<"==e.charAt(r)?">":"]"),r+2);if(-1==o)throw new Error("'<?' without matching '?>' in template.");var a=e.slice(r+2,o),i=a.match(/^([\w\.]+)(?:\s+((?:\r|\n|.)+))?$/);if(!i)throw new Error("Template command ('"+a+"') does not follow 'command [arguments]' format.");n.push({command:i[1],args:i[2]}),e=e.slice(o+2)}return n}function t(e){return String(e).replace(/[\"\\\f\b\n\t\r\v]/g,function(e){return l[e]})}var n,r;Mold.addSnippet=function(e){return n?(n.push(e),n.length-1):void 0};var o;Mold.setLabel=function(e){return function(t){if(o||(o={}),forDepth>0){var n=o[e]||(o[e]=[]);n.push&&n.push(t)}else o[e]=t}},Mold.forDepth=0;var a=!1,i={"<":"&lt;","&":"&amp;",'"':"&quot;"};Mold.escapeHTML=function(e){return String(e).replace(/[<&\"]/g,function(e){return i[e]})};var l={'"':'\\"',"\\":"\\\\","\f":"\\f","\b":"\\b","\n":"\\n","	":"\\t","\r":"\\r","\x0B":"\\v"};Mold.attachEvent=null,Mold._attachEvent=function(e,t,n){var r=function(t){n(t||window.event,e)};if("enter"==t){var o=n;n=function(e,t){13==(e.charCode||e.keyCode)&&o(e,t)},t="keydown"}Mold.attachEvent?Mold.attachEvent(e,t,r):e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},Mold.forEach=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)};var s=Object.prototype.hasOwnProperty;Mold.forEachIn=function(e,t){var n=0;for(var r in e)s.call(e,r)&&t(r,e[r],n++)};var c={};Mold.define=function(e,t){c[e]=t},Mold.dispatchCustom=function(e,t,n){if(!c.hasOwnProperty(e))throw new Error("Unrecognised template command: '"+e+"'.");n.push(c[e](t,n))},Mold.bake=function(n){for(var r,o=e(n),a=["[function templateFunction($arg, __output){\nvar __out = __output || [];\n"],i=[];o.length;){var l=o.shift();if("string"!=typeof l)switch(l.command){case"text":case"t":a.push("__out.push(Mold.escapeHTML("+l.args+"));\n");break;case"html":case"h":a.push("__out.push("+l.args+");\n");break;case"do":case"d":a.push(l.args+"\n");break;case"if":i.push("if"),a.push("if ("+l.args+") {\n");break;case"elif":if("if"!=i[i.length-1])throw new Error("'elif' without matching 'if' in template.");a.push("} else if ("+l.args+") {\n");break;case"else":if("if"!=i[i.length-1])throw new Error("'else' without matching 'if' in template.");a.push("} else {\n");break;case"if.":if("if"!=i.pop())throw new Error("'if.' without matching 'if' in template.");a.push("}\n");break;case"for":if(i.push("for"),r=l.args.match(/^([\w\$_]+)(?:,\s*([\w\$_]+))?\s+in\s+((?:\r|\n|.)+)$/))a.push("Mold.forDepth++;\nMold.forEachIn("+r[3]+", function("+r[1]+", "+(r[2]||"$dummy")+", $i) {\n");else{if(!(r=l.args.match(/^([\w\$_]+)\s+((?:\r|\n|.)+)$/)))throw new Error("Malformed arguments to 'for' form in template -- expected variable name followed by expression.");a.push("Mold.forDepth++;\nMold.forEach("+r[2]+", function("+r[1]+", $i) {\n")}break;case"for.":if("for"!=i.pop())throw new Error("'for.' without matching 'for' in template.");a.push("});\nMold.forDepth--;\n");break;case"event":if(!(r=l.args.match(/^(\w+)\s+((?:\r|\n|.)+)$/)))throw new Error("Malformed arguments to 'event' form in template -- expected event name followed by handler body.");a.push('__out.push("<var class=\\"__mold " + Mold.addSnippet(function(__node){Mold._attachEvent(__node, "'+r[1]+'", function($event, $node) {\n'+r[2]+'\n});}) + "\\"></var>");\n');break;case"run":case"r":a.push('__out.push("<var class=\\"__mold " + Mold.addSnippet(function($node){'+l.args+'}) + "\\"></var>");\n');break;case"label":case"l":a.push('__out.push("<var class=\\"__mold " + Mold.addSnippet(Mold.setLabel("'+t(l.args)+'")) + "\\"></var>");\n');break;case"call":var s=l.args,c=s.indexOf("->"),u="null";-1!=c&&(u=s.slice(c+2),s=s.slice(0,c)),a.push(s+"("+u+", __out);");break;default:a.push('Mold.dispatchCustom("'+t(l.command)+'", '+(/^\s*$/.test(l.args)?"null":l.args)+", __out);\n")}else a.push('__out.push("'+t(l)+'");\n')}if(i.length)throw new Error("Unclosed blocks in template ("+i.join()+").");return a.push('return __output ? "" : __out.join("");\n}]'),Mold.cleanEval(a.join(""))[0]},Mold.cast=function(e,t,i){if(a)throw new Error("Mold.cast must not be called recursively.");n=[],r=0,o=null,forDepth=0,a=!0;try{e.innerHTML=t(i);for(var l=e.getElementsByTagName("VAR"),s=[],c=0;c<l.length;c++)s.push(l[c]);for(var c=0;c<s.length;c++){var u=s[c],d=u.className.match(/^__mold (\d+)$/);if(d){for(var f=u.previousSibling;f&&3==f.nodeType;)f=f.previousSibling;n[d[1]](f||u.parentNode),u.parentNode.removeChild(u)}}var h=o}finally{o=n=null,a=!1}return h},Mold.castAppend=function(e,t,n){for(var r=e.ownerDocument.createElement("DIV"),o=Mold.cast(r,t,n);r.firstChild;)e.appendChild(r.firstChild);return o}}();